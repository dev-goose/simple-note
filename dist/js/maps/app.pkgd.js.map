{"version":3,"sources":["layout.js"],"names":["log","o","console","$articleIndexBarItems","$","children","on","this","next","length","$parent","parent","hasClass","removeClass","addClass","$keyword","find","focus","attr","location","href","$target","toggleClass","iconClass","$article","$self","jQuery","ajax","url","method","dataType","headers","Accept","pref","meta","headerKey","done","response","state","$like","text","parseInt","fail","e","responseText"],"mappings":"AAAA,GAAIA,KAAM,SAASC,GAAKC,QAAQF,IAAIC,IAMhCE,sBAAwBC,EAAE,0CAC9BD,uBAAsBE,SAAS,UAAUC,GAAG,QAAS,WACpD,GAAIF,EAAEG,MAAMC,OAAOC,OACnB,CACC,GAAIC,GAAUN,EAAEG,MAAMI,QACtB,IAAID,EAAQE,SAAS,UAEpBF,EAAQG,YAAY,cAGrB,CACCV,sBAAsBU,YAAY,UAClCH,EAAQI,SAAS,SAGjB,IAAIC,GAAWL,EAAQM,KAAK,sBACxBD,GAASN,QAEZM,EAASE,aAMPb,GAAEG,MAAMW,KAAK,eAEhBC,SAASC,KAAOhB,EAAEG,MAAMW,KAAK,gBAOhCd,EAAE,kBAAkBE,GAAG,QAAS,WAC/B,GAAIe,GAAUjB,EAAEG,MAAMC,MACtBJ,GAAEG,MAAMe,YAAY,UACpBD,EAAQC,YAAY,SACpB,IAAIC,GAAcnB,EAAEG,MAAMK,SAAS,UAAsC,qBAAzB,sBAChDR,GAAEG,MAAMS,KAAK,KAAKE,KAAK,QAASK,IAMjC,IAAIC,UAAWpB,EAAE,WAGjBA,GAAE,wBAAwBE,GAAG,QAAS,WACrC,GAAImB,GAAQrB,EAAEG,KACd,OAAKkB,GAAMb,SAAS,WACpBc,OAAOC,MACNC,IAAKxB,EAAEG,MAAMW,KAAK,QAClBW,OAAQ,MACRC,SAAU,OACVC,SAAWC,OAAW,eAAiBC,KAAKC,KAAKC,UAAY,OAC3DC,KAAK,SAASC,GAChB,GAAsB,WAAlBA,EAASC,MACb,CACC,GAAIC,GAAQf,SAASR,KAAK,cAC1BuB,GAAMC,KAAKC,SAASF,EAAMC,OAAQ,IAAM,GACxCf,EAAMZ,YAAY,cAIlBb,KAAIqC,EAASC,OACbtC,IAAIqC,KAEHK,KAAK,SAASC,GAChB3C,IAAI,gBACJA,IAAI2C,EAAEC,iBAGA,IAvB+B","file":"app.pkgd.js","sourcesContent":["var log = function(o) { console.log(o); };\r\n\r\n\r\n/* Article INDEX */\r\n\r\n// header bar event\r\nvar $articleIndexBarItems = $('.article-index > header > nav > ul > li');\r\n$articleIndexBarItems.children('button').on('click', function(){\r\n\tif ($(this).next().length)\r\n\t{\r\n\t\tvar $parent = $(this).parent();\r\n\t\tif ($parent.hasClass('active'))\r\n\t\t{\r\n\t\t\t$parent.removeClass('active');\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t$articleIndexBarItems.removeClass('active');\r\n\t\t\t$parent.addClass('active');\r\n\r\n\t\t\t// focus keyword form\r\n\t\t\tvar $keyword = $parent.find('input[name=keyword]');\r\n\t\t\tif ($keyword.length)\r\n\t\t\t{\r\n\t\t\t\t$keyword.focus();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\telse\r\n\t{\r\n\t\tif ($(this).attr('data-href'))\r\n\t\t{\r\n\t\t\tlocation.href = $(this).attr('data-href');\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\n// toggle gnb for mobile\r\n$('.toggle-button').on('click', function(){\r\n\tvar $target = $(this).next();\r\n\t$(this).toggleClass('active');\r\n\t$target.toggleClass('active');\r\n\tvar iconClass = (!$(this).hasClass('active')) ? 'lnr lnr-chevron-down' : 'lnr lnr-chevron-up';\r\n\t$(this).find('i').attr('class', iconClass);\r\n});\r\n\r\n\r\n\r\n/* Article VIEW */\r\nvar $article = $('#article');\r\n\r\n// on like\r\n$('[data-action=onLike]').on('click', function(){\r\n\tvar $self = $(this);\r\n\tif (!$self.hasClass('active')) return false;\r\n\tjQuery.ajax({\r\n\t\turl: $(this).attr('href'),\r\n\t\tmethod: 'get',\r\n\t\tdataType: 'json',\r\n\t\theaders: { 'Accept' : 'application=' + pref.meta.headerKey + ';' }\r\n\t}).done(function(response){\r\n\t\tif (response.state == 'success')\r\n\t\t{\r\n\t\t\tvar $like = $article.find('[data-like]');\r\n\t\t\t$like.text(parseInt($like.text(), 10) + 1);\r\n\t\t\t$self.removeClass('active');\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tlog(response.state);\r\n\t\t\tlog(response);\r\n\t\t}\r\n\t}).fail(function(e){\r\n\t\tlog('server error');\r\n\t\tlog(e.responseText);\r\n\t});\r\n\r\n\treturn false;\r\n});\r\n"],"sourceRoot":"/source/"}